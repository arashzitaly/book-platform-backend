{"version":3,"file":"index-DDcxTa1K.js","sources":["../../src/utils/router.js","../../src/utils/store.js","../../src/api/client.js","../../src/pages/index.js","../../src/main.js"],"sourcesContent":["// Router - Simple hash-based routing\n\nclass Router {\n    constructor() {\n        this.routes = new Map();\n        this.currentRoute = null;\n        this.container = null;\n\n        window.addEventListener('hashchange', () => this.handleRoute());\n        window.addEventListener('load', () => this.handleRoute());\n    }\n\n    setContainer(container) {\n        this.container = container;\n    }\n\n    register(path, handler) {\n        this.routes.set(path, handler);\n    }\n\n    navigate(path) {\n        window.location.hash = path;\n    }\n\n    getCurrentPath() {\n        return window.location.hash.slice(1) || '/';\n    }\n\n    async handleRoute() {\n        const path = this.getCurrentPath();\n\n        // Try exact match first\n        let handler = this.routes.get(path);\n        let params = [];\n\n        // Try dynamic routes like /facility/:id or /dashboard/facility/:id\n        if (!handler) {\n            const pathParts = path.split('/').filter(Boolean);\n\n            for (const [route, h] of this.routes) {\n                if (route.includes(':')) {\n                    const routeParts = route.split('/').filter(Boolean);\n\n                    if (routeParts.length === pathParts.length) {\n                        let match = true;\n                        const extractedParams = [];\n\n                        for (let i = 0; i < routeParts.length; i++) {\n                            if (routeParts[i].startsWith(':')) {\n                                // This is a dynamic param, extract its value\n                                extractedParams.push(pathParts[i]);\n                            } else if (routeParts[i] !== pathParts[i]) {\n                                match = false;\n                                break;\n                            }\n                        }\n\n                        if (match) {\n                            handler = h;\n                            params = extractedParams;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        if (handler && this.container) {\n            this.currentRoute = path;\n            const content = await handler(params);\n            this.container.innerHTML = content;\n\n            // Execute any initialization scripts\n            window.dispatchEvent(new CustomEvent('route:loaded', { detail: { path, params } }));\n        } else if (!handler) {\n            this.navigate('/');\n        }\n    }\n}\n\nexport const router = new Router();\nexport default router;\n","// State management for the application\n\nclass Store {\n    constructor() {\n        this.state = {\n            user: null,\n            isAuthenticated: false,\n            facilities: [],\n            myBookings: [],\n            notifications: [],\n            unreadCount: 0,\n            loading: false\n        };\n        this.listeners = new Set();\n\n        // Try to restore user from localStorage\n        const savedUser = localStorage.getItem('user');\n        const token = localStorage.getItem('token');\n        if (savedUser && token) {\n            this.state.user = JSON.parse(savedUser);\n            this.state.isAuthenticated = true;\n        }\n    }\n\n    getState() {\n        return this.state;\n    }\n\n    setState(updates) {\n        this.state = { ...this.state, ...updates };\n        this.notify();\n    }\n\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return () => this.listeners.delete(listener);\n    }\n\n    notify() {\n        this.listeners.forEach(listener => listener(this.state));\n    }\n\n    // Auth actions\n    setUser(user) {\n        this.setState({ user, isAuthenticated: !!user });\n        if (user) {\n            localStorage.setItem('user', JSON.stringify(user));\n        } else {\n            localStorage.removeItem('user');\n        }\n    }\n\n    logout() {\n        this.setState({ user: null, isAuthenticated: false });\n        localStorage.removeItem('user');\n        localStorage.removeItem('token');\n    }\n\n    // Facility actions\n    setFacilities(facilities) {\n        this.setState({ facilities });\n    }\n\n    // Booking actions\n    setMyBookings(myBookings) {\n        this.setState({ myBookings });\n    }\n\n    // Notification actions\n    setNotifications(notifications) {\n        this.setState({ notifications });\n    }\n\n    setUnreadCount(unreadCount) {\n        this.setState({ unreadCount });\n    }\n\n    // Loading state\n    setLoading(loading) {\n        this.setState({ loading });\n    }\n}\n\nexport const store = new Store();\nexport default store;\n","// API Client for Book Platform Backend\n\nconst API_BASE = '/api';\n\nclass ApiClient {\n    constructor() {\n        this.token = localStorage.getItem('token');\n    }\n\n    setToken(token) {\n        this.token = token;\n        if (token) {\n            localStorage.setItem('token', token);\n        } else {\n            localStorage.removeItem('token');\n        }\n    }\n\n    getToken() {\n        return this.token;\n    }\n\n    async request(endpoint, options = {}) {\n        const url = `${API_BASE}${endpoint}`;\n        const headers = {\n            'Content-Type': 'application/json',\n            ...options.headers\n        };\n\n        if (this.token) {\n            headers['Authorization'] = `Bearer ${this.token}`;\n        }\n\n        try {\n            const response = await fetch(url, {\n                ...options,\n                headers\n            });\n\n            if (response.status === 401) {\n                this.setToken(null);\n                window.dispatchEvent(new CustomEvent('auth:logout'));\n                throw new Error('Unauthorized');\n            }\n\n            const data = response.headers.get('content-type')?.includes('application/json')\n                ? await response.json()\n                : null;\n\n            if (!response.ok) {\n                throw new Error(data?.message || `HTTP error ${response.status}`);\n            }\n\n            return data;\n        } catch (error) {\n            console.error('API Error:', error);\n            throw error;\n        }\n    }\n\n    // Auth\n    async register(data) {\n        const response = await this.request('/auth/register', {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n        if (response?.token) {\n            this.setToken(response.token);\n        }\n        return response;\n    }\n\n    async login(data) {\n        const response = await this.request('/auth/login', {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n        if (response?.token) {\n            this.setToken(response.token);\n        }\n        return response;\n    }\n\n    logout() {\n        this.setToken(null);\n        window.dispatchEvent(new CustomEvent('auth:logout'));\n    }\n\n    // Facilities\n    async getFacilities(params = {}) {\n        const query = new URLSearchParams(params).toString();\n        return this.request(`/facilities${query ? `?${query}` : ''}`);\n    }\n\n    async getFacility(id) {\n        return this.request(`/facilities/${id}`);\n    }\n\n    async getMyFacilities() {\n        return this.request('/facilities/my');\n    }\n\n    async createFacility(data) {\n        return this.request('/facilities', {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n\n    async updateFacility(id, data) {\n        return this.request(`/facilities/${id}`, {\n            method: 'PUT',\n            body: JSON.stringify(data)\n        });\n    }\n\n    // Resources\n    async getResources(facilityId) {\n        return this.request(`/facilities/${facilityId}/resources`);\n    }\n\n    async createResource(facilityId, data) {\n        return this.request(`/facilities/${facilityId}/resources`, {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n\n    // Slots\n    async getSlots(facilityId, params = {}) {\n        const query = new URLSearchParams(params).toString();\n        return this.request(`/facilities/${facilityId}/slots${query ? `?${query}` : ''}`);\n    }\n\n    async getAvailableSlots(facilityId, limit = 50) {\n        return this.request(`/facilities/${facilityId}/slots/available?limit=${limit}`);\n    }\n\n    async createSlots(facilityId, data) {\n        return this.request(`/facilities/${facilityId}/slots/bulk`, {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n\n    async createSlot(data) {\n        const { facilityId, ...slotData } = data;\n        return this.request(`/facilities/${facilityId}/slots`, {\n            method: 'POST',\n            body: JSON.stringify(slotData)\n        });\n    }\n\n    async generateBulkSlots(data) {\n        const { facilityId, ...bulkData } = data;\n        return this.request(`/facilities/${facilityId}/slots/bulk`, {\n            method: 'POST',\n            body: JSON.stringify(bulkData)\n        });\n    }\n\n    // Bookings\n    async getMyBookings() {\n        return this.request('/bookings');\n    }\n\n    async getBooking(id) {\n        return this.request(`/bookings/${id}`);\n    }\n\n    async getFacilityBookings(facilityId) {\n        return this.request(`/bookings/facility/${facilityId}`);\n    }\n\n    async getPendingBookings(facilityId) {\n        return this.request(`/bookings/facility/${facilityId}/pending`);\n    }\n\n    async createBooking(data) {\n        return this.request('/bookings', {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n\n    async updateBookingStatus(id, status) {\n        return this.request(`/bookings/${id}/status`, {\n            method: 'PUT',\n            body: JSON.stringify({ status })\n        });\n    }\n\n    async rescheduleBooking(id, data) {\n        return this.request(`/bookings/${id}/reschedule`, {\n            method: 'PUT',\n            body: JSON.stringify(data)\n        });\n    }\n\n    // Notifications\n    async getNotifications(limit = 50) {\n        return this.request(`/notifications?limit=${limit}`);\n    }\n\n    async getUnreadNotifications() {\n        return this.request('/notifications/unread');\n    }\n\n    async getUnreadCount() {\n        return this.request('/notifications/unread/count');\n    }\n\n    async markNotificationRead(id) {\n        return this.request(`/notifications/${id}/read`, { method: 'PUT' });\n    }\n\n    async markAllNotificationsRead() {\n        return this.request('/notifications/read-all', { method: 'PUT' });\n    }\n}\n\nexport const api = new ApiClient();\nexport default api;\n","// Page Components - Dark Modern Theme\n\nimport { store } from '../utils/store.js';\nimport { api } from '../api/client.js';\n\n// Icons\nconst icons = {\n  home: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/><polyline points=\"9 22 9 12 15 12 15 22\"/></svg>',\n  calendar: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>',\n  bell: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"/><path d=\"M13.73 21a2 2 0 0 1-3.46 0\"/></svg>',\n  user: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>',\n  search: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>',\n  arrowRight: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/><polyline points=\"12 5 19 12 12 19\"/></svg>',\n  star: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/></svg>',\n  clock: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><polyline points=\"12 6 12 12 16 14\"/></svg>',\n  check: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"/></svg>',\n  x: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>',\n  layers: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polygon points=\"12 2 2 7 12 12 22 7 12 2\"/><polyline points=\"2 17 12 22 22 17\"/><polyline points=\"2 12 12 17 22 12\"/></svg>'\n};\n\nconst categoryEmoji = {\n  0: 'üèãÔ∏è',\n  1: 'üçΩÔ∏è',\n  2: '‚òï'\n};\n\nconst categoryName = {\n  0: 'Gym',\n  1: 'Restaurant',\n  2: 'Cafeteria'\n};\n\nconst statusLabel = {\n  0: 'Requested',\n  1: 'Pending',\n  2: 'Accepted',\n  3: 'Rejected',\n  4: 'Cancelled',\n  5: 'Completed'\n};\n\nconst statusBadge = {\n  0: 'badge-warning',\n  1: 'badge-warning',\n  2: 'badge-success',\n  3: 'badge-error',\n  4: 'badge-error',\n  5: 'badge-primary'\n};\n\n// Header Component - Modern Dark Style\nexport function Header() {\n  const state = store.getState();\n  const isAuth = state.isAuthenticated;\n  const user = state.user;\n  const isOwner = user?.role === 1;\n\n  return `\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <a href=\"#/\" class=\"logo\">\n          <div class=\"logo-icon\">üìÖ</div>\n          <span>BookPlatform</span>\n        </a>\n        <nav class=\"nav\">\n          <a href=\"#/\" class=\"nav-link\">Browse</a>\n          ${isAuth ? `\n            <a href=\"#/bookings\" class=\"nav-link\">My Bookings</a>\n            ${isOwner ? '<a href=\"#/dashboard\" class=\"nav-link\">Dashboard</a>' : ''}\n            <a href=\"#/notifications\" class=\"nav-link\">Notifications</a>\n            <button class=\"btn btn-ghost\" onclick=\"window.app.logout()\">Logout</button>\n          ` : `\n            <a href=\"#/login\" class=\"nav-link\">Sign In</a>\n            <a href=\"#/register\" class=\"btn btn-primary\">Get Started</a>\n          `}\n        </nav>\n      </div>\n    </header>\n  `;\n}\n\n// Bottom Navigation (Mobile)\nexport function BottomNav() {\n  const state = store.getState();\n  const isAuth = state.isAuthenticated;\n  const unreadCount = state.unreadCount || 0;\n\n  if (!isAuth) return '';\n\n  return `\n    <nav class=\"bottom-nav\">\n      <button class=\"bottom-nav-item\" onclick=\"window.location.hash='#/'\">${icons.home}<span>Home</span></button>\n      <button class=\"bottom-nav-item\" onclick=\"window.location.hash='#/bookings'\">${icons.calendar}<span>Bookings</span></button>\n      <button class=\"bottom-nav-item\" onclick=\"window.location.hash='#/notifications'\">\n        ${icons.bell}\n        <span>Alerts${unreadCount > 0 ? ` (${unreadCount})` : ''}</span>\n      </button>\n      <button class=\"bottom-nav-item\" onclick=\"window.location.hash='#/profile'\">${icons.user}<span>Profile</span></button>\n    </nav>\n  `;\n}\n\n// Home Page - Complete Redesign\nexport async function HomePage() {\n  let facilities = [];\n  try {\n    facilities = await api.getFacilities({ limit: 20 });\n  } catch (e) {\n    console.error('Failed to load facilities', e);\n  }\n\n  // Get first two facilities for hero cards\n  const heroFacilities = facilities.slice(0, 2);\n  const gridFacilities = facilities.slice(2);\n\n  return `\n    <div class=\"page\">\n      <!-- Hero Section with Split Layout -->\n      <section class=\"hero\">\n        <div class=\"hero-content\">\n          ${heroFacilities.length >= 2 ? `\n          <div class=\"hero-split\">\n            <!-- Left Card -->\n            <div style=\"display: flex; justify-content: flex-end;\">\n              ${HeroProductCard(heroFacilities[0])}\n            </div>\n            \n            <!-- Center Content -->\n            <div class=\"hero-center\">\n              <div class=\"hero-logo-badge\">\n                ${icons.layers}\n                <span>BookPlatform</span>\n              </div>\n              \n              <div style=\"margin: var(--space-8) 0;\">\n                <div class=\"stats-panel\" style=\"margin-bottom: var(--space-4);\">\n                  <div class=\"stats-label\">Booking Rate</div>\n                  <div class=\"stats-value stats-positive\">+24.5%</div>\n                </div>\n                <div class=\"stats-panel\">\n                  <div class=\"stats-label\">Time Saved</div>\n                  <div class=\"stats-value stats-positive\">+3.2hrs</div>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Right Card -->\n            <div style=\"display: flex; justify-content: flex-start;\">\n              ${HeroProductCard(heroFacilities[1])}\n            </div>\n          </div>\n          ` : ''}\n          \n          <div style=\"text-align: center; margin-top: var(--space-12);\">\n            <h1 class=\"hero-title\">\n              Book Your Perfect <span class=\"hero-title-gradient\">Spot</span>\n            </h1>\n            <p class=\"hero-subtitle\">\n              Reserve at gyms, restaurants, and cafeterias with instant confirmation. \n              Simple booking for modern life.\n            </p>\n            <div class=\"flex justify-center gap-4\">\n              <button class=\"btn btn-primary btn-lg\" onclick=\"document.getElementById('facilities-section').scrollIntoView({behavior:'smooth'})\">\n                Browse Facilities\n              </button>\n              <a href=\"#/register\" class=\"btn btn-outline btn-lg\">\n                Create Account\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n      \n      <!-- Trusted By Section -->\n      <section class=\"trusted-section\">\n        <div style=\"max-width: 1200px; margin: 0 auto; text-align: center;\">\n          <p class=\"trusted-label\">Trusted by fast-growing businesses</p>\n          <div class=\"trusted-logos\">\n            <span class=\"trusted-logo\">FitLife</span>\n            <span class=\"trusted-logo\">Caf√©Blend</span>\n            <span class=\"trusted-logo\">GymPro</span>\n            <span class=\"trusted-logo\">DineWell</span>\n            <span class=\"trusted-logo\">FlexSpace</span>\n          </div>\n        </div>\n      </section>\n      \n      <!-- Feature 1 -->\n      <section class=\"feature-section\" style=\"max-width: 1200px; margin: 0 auto; padding: var(--space-24) var(--space-4);\">\n        <div>\n          <p class=\"feature-number\">1. Find Your Spot</p>\n          <h2 class=\"feature-title\">Discover venues that match your lifestyle</h2>\n          <p class=\"feature-description\">\n            Browse through our curated selection of gyms, restaurants, and cafeterias. \n            Filter by location, availability, and amenities to find the perfect match.\n          </p>\n        </div>\n        <div class=\"isometric-graphic\">\n          <div style=\"position: relative; perspective: 1000px;\">\n            <div style=\"width: 180px; height: 180px; background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-xl); transform: rotateX(10deg) rotateY(-10deg); position: relative;\">\n              <div style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 4rem;\">üîç</div>\n            </div>\n            <div style=\"position: absolute; top: -20px; right: -40px; padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); font-family: var(--font-mono); font-size: var(--font-size-xs); color: var(--text-muted);\">\n              DETECTS PATTERNS\n            </div>\n            <div style=\"position: absolute; bottom: -30px; right: -20px; padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); font-family: var(--font-mono); font-size: var(--font-size-xs); color: var(--text-muted);\">\n              SMART MATCHING\n            </div>\n          </div>\n        </div>\n      </section>\n      \n      <!-- Feature 2 -->\n      <section class=\"feature-section reverse\" style=\"max-width: 1200px; margin: 0 auto; padding: var(--space-24) var(--space-4);\">\n        <div>\n          <p class=\"feature-number\">2. Book Instantly</p>\n          <h2 class=\"feature-title\">Secure your reservation in seconds</h2>\n          <p class=\"feature-description\">\n            Select your preferred time slot and confirm your booking with just a few taps. \n            Get instant confirmation and reminders before your visit.\n          </p>\n        </div>\n        <div class=\"isometric-graphic\">\n          <div style=\"position: relative; perspective: 1000px;\">\n            <div style=\"width: 180px; height: 180px; background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-xl); transform: rotateX(10deg) rotateY(10deg); position: relative;\">\n              <div style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 4rem;\">‚ö°</div>\n            </div>\n            <div style=\"position: absolute; top: -20px; left: -40px; padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); font-family: var(--font-mono); font-size: var(--font-size-xs); color: var(--text-muted);\">\n              INSTANT CONFIRM\n            </div>\n          </div>\n        </div>\n      </section>\n      \n      <!-- Facilities Grid Section -->\n      <section id=\"facilities-section\" style=\"padding: var(--space-16) 0;\">\n        <div class=\"page-header\" style=\"text-align: center;\">\n          <h2 class=\"page-title\">Featured Facilities</h2>\n          <p class=\"page-subtitle\">Discover and book your next experience</p>\n        </div>\n        \n        <div class=\"flex justify-center gap-4 mb-8\">\n          <button class=\"btn btn-secondary\" onclick=\"window.app.filterCategory(null)\">All</button>\n          <button class=\"btn btn-ghost\" onclick=\"window.app.filterCategory(0)\">üèãÔ∏è Gyms</button>\n          <button class=\"btn btn-ghost\" onclick=\"window.app.filterCategory(1)\">üçΩÔ∏è Restaurants</button>\n          <button class=\"btn btn-ghost\" onclick=\"window.app.filterCategory(2)\">‚òï Cafeterias</button>\n        </div>\n        \n        <div class=\"grid grid-auto\" id=\"facilities-grid\">\n          ${facilities.length > 0 ? facilities.map(f => FacilityCard(f)).join('') : `\n            <div class=\"card card-dark\" style=\"grid-column: 1 / -1; padding: 3rem; text-align: center;\">\n              <p class=\"text-secondary\">No facilities available yet. Check back soon!</p>\n            </div>\n          `}\n        </div>\n      </section>\n      \n      <!-- Backed By Section -->\n      <div class=\"backed-by\" style=\"padding-bottom: var(--space-16);\">\n        <p class=\"backed-by-label\">Backed by</p>\n        <div class=\"backed-by-logos\">\n          <span>a]6z</span>\n          <span>/</span>\n          <span style=\"font-weight: 700;\">speedrun</span>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Hero Product Card (Reference design style)\nfunction HeroProductCard(facility) {\n  if (!facility) return '';\n\n  return `\n    <a href=\"#/facility/${facility.id}\" class=\"product-card\">\n      <div class=\"product-card-image\">\n        ${categoryEmoji[facility.category] || 'üìç'}\n      </div>\n      <div class=\"product-card-title\">${facility.name}</div>\n      <div class=\"text-secondary\" style=\"font-size: var(--font-size-sm); margin-bottom: var(--space-1)\">\n        ${categoryName[facility.category]} / Venue\n      </div>\n      <div class=\"product-card-rating\">\n        <span>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>\n      </div>\n    </a>\n  `;\n}\n\n// Facility Card Component - Modern White Style\nexport function FacilityCard(facility) {\n  return `\n    <a href=\"#/facility/${facility.id}\" class=\"card\">\n      <div class=\"card-image\" style=\"display: flex; align-items: center; justify-content: center; font-size: 3rem;\">\n        ${categoryEmoji[facility.category] || 'üìç'}\n      </div>\n      <div class=\"card-body\">\n        <span class=\"badge badge-${categoryName[facility.category]?.toLowerCase()}\">${categoryName[facility.category]}</span>\n        <h3 class=\"card-title mt-4\">${facility.name}</h3>\n        <p class=\"card-subtitle\">${facility.description?.slice(0, 80) || 'No description'}${facility.description?.length > 80 ? '...' : ''}</p>\n        <div class=\"card-meta\">\n          <span>üìç ${facility.address || 'Location TBD'}</span>\n        </div>\n      </div>\n    </a>\n  `;\n}\n\n// Facility Detail Page\nexport async function FacilityPage(params) {\n  const id = params[0];\n  let facility = null;\n  let slots = [];\n\n  try {\n    facility = await api.getFacility(id);\n    slots = await api.getAvailableSlots(id, 30);\n  } catch (e) {\n    console.error('Failed to load facility', e);\n    return '<div class=\"page\"><h1>Facility not found</h1></div>';\n  }\n\n  return `\n    <div class=\"page\">\n      <div class=\"card card-dark\" style=\"margin-bottom: var(--space-8);\">\n        <div class=\"card-image\" style=\"height: 280px; display: flex; align-items: center; justify-content: center; font-size: 5rem; background: linear-gradient(135deg, var(--primary-500), var(--primary-600));\">\n          ${categoryEmoji[facility.category] || 'üìç'}\n        </div>\n        <div class=\"card-body\">\n          <span class=\"badge badge-${categoryName[facility.category]?.toLowerCase()}\">${categoryName[facility.category]}</span>\n          <h1 class=\"page-title mt-4\">${facility.name}</h1>\n          <p class=\"text-secondary\">${facility.description || 'Welcome to our facility!'}</p>\n          <div class=\"flex gap-6 mt-4 text-secondary\">\n            <span>üìç ${facility.address || 'Location TBD'}</span>\n            ${facility.phone ? `<span>üìû ${facility.phone}</span>` : ''}\n          </div>\n        </div>\n      </div>\n      \n      <section>\n        <h2 class=\"page-title\">Available Slots</h2>\n        <p class=\"page-subtitle mb-6\">Select a time slot to book</p>\n        \n        ${slots.length > 0 ? `\n          <div class=\"slots-grid\" id=\"slots-grid\">\n            ${slots.map(slot => SlotCard(slot, id)).join('')}\n          </div>\n        ` : `\n          <div class=\"card card-dark\" style=\"padding: 2rem; text-align: center;\">\n            <p class=\"text-secondary\">No available slots at the moment.</p>\n          </div>\n        `}\n      </section>\n    </div>\n  `;\n}\n\n// Slot Card Component\nfunction SlotCard(slot, facilityId) {\n  const startTime = new Date(slot.startTime);\n  const timeStr = startTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  const dateStr = startTime.toLocaleDateString([], { month: 'short', day: 'numeric' });\n  const available = slot.availableSpots > 0;\n\n  return `\n    <div class=\"slot-card ${available ? '' : 'disabled'}\" \n         data-slot-id=\"${slot.id}\" \n         data-facility-id=\"${facilityId}\"\n         onclick=\"${available ? `window.app.selectSlot('${slot.id}', '${facilityId}')` : ''}\">\n      <div class=\"slot-time\">${timeStr}</div>\n      <div class=\"text-secondary\" style=\"font-size: var(--font-size-sm);\">${dateStr}</div>\n      <div class=\"slot-spots ${available ? 'text-success' : 'text-error'}\">\n        ${available ? `${slot.availableSpots} spots left` : 'Full'}\n      </div>\n      ${slot.price ? `<div class=\"text-primary font-semibold\">$${slot.price}</div>` : ''}\n    </div>\n  `;\n}\n\n// Login Page - Modern Dark Style\nexport function LoginPage() {\n  return `\n    <div class=\"page\" style=\"max-width: 420px; margin: 0 auto; padding-top: var(--space-12);\">\n      <div class=\"card card-dark\">\n        <div class=\"card-body\">\n          <h1 class=\"page-title text-center\">Welcome Back</h1>\n          <p class=\"text-secondary text-center mb-6\">Sign in to your account</p>\n          \n          <form id=\"login-form\" onsubmit=\"window.app.handleLogin(event)\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">Email</label>\n              <input type=\"email\" name=\"email\" class=\"form-input\" placeholder=\"you@example.com\" required>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Password</label>\n              <input type=\"password\" name=\"password\" class=\"form-input\" placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" required>\n            </div>\n            <div id=\"login-error\" class=\"form-error hidden\"></div>\n            <button type=\"submit\" class=\"btn btn-primary btn-lg\" style=\"width: 100%; margin-top: var(--space-4);\">\n              Sign In\n            </button>\n          </form>\n          \n          <p class=\"text-center text-secondary mt-6\">\n            Don't have an account? <a href=\"#/register\">Sign up</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Register Page - Modern Dark Style\nexport function RegisterPage() {\n  return `\n    <div class=\"page\" style=\"max-width: 420px; margin: 0 auto; padding-top: var(--space-12);\">\n      <div class=\"card card-dark\">\n        <div class=\"card-body\">\n          <h1 class=\"page-title text-center\">Create Account</h1>\n          <p class=\"text-secondary text-center mb-6\">Join Book Platform today</p>\n          \n          <form id=\"register-form\" onsubmit=\"window.app.handleRegister(event)\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">Username</label>\n              <input type=\"text\" name=\"username\" class=\"form-input\" placeholder=\"johndoe\" required>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Email</label>\n              <input type=\"email\" name=\"email\" class=\"form-input\" placeholder=\"you@example.com\" required>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Password</label>\n              <input type=\"password\" name=\"password\" class=\"form-input\" placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" minlength=\"6\" required>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">I am a</label>\n              <select name=\"role\" class=\"form-input\">\n                <option value=\"0\">Customer</option>\n                <option value=\"1\">Facility Owner</option>\n              </select>\n            </div>\n            <div id=\"register-error\" class=\"form-error hidden\"></div>\n            <button type=\"submit\" class=\"btn btn-primary btn-lg\" style=\"width: 100%; margin-top: var(--space-4);\">\n              Create Account\n            </button>\n          </form>\n          \n          <p class=\"text-center text-secondary mt-6\">\n            Already have an account? <a href=\"#/login\">Sign in</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// My Bookings Page\nexport async function BookingsPage() {\n  const state = store.getState();\n  if (!state.isAuthenticated) {\n    window.location.hash = '#/login';\n    return '';\n  }\n\n  let bookings = [];\n  try {\n    bookings = await api.getMyBookings();\n    store.setMyBookings(bookings);\n  } catch (e) {\n    console.error('Failed to load bookings', e);\n  }\n\n  const upcoming = bookings.filter(b => [0, 1, 2].includes(b.status) && new Date(b.slotStartTime) > new Date());\n  const past = bookings.filter(b => ![0, 1, 2].includes(b.status) || new Date(b.slotStartTime) <= new Date());\n\n  return `\n    <div class=\"page\">\n      <div class=\"page-header\">\n        <h1 class=\"page-title\">My Reservations</h1>\n        <p class=\"page-subtitle\">Manage your bookings</p>\n      </div>\n      \n      <h2 class=\"font-semibold mb-4\">Upcoming</h2>\n      <div class=\"grid gap-4 mb-8\">\n        ${upcoming.length > 0 ? upcoming.map(b => BookingCard(b)).join('') : `\n          <div class=\"card card-dark\" style=\"padding: 2rem; text-align: center;\">\n            <p class=\"text-secondary\">No upcoming reservations</p>\n            <a href=\"#/\" class=\"btn btn-primary mt-4\">Browse Facilities</a>\n          </div>\n        `}\n      </div>\n      \n      <h2 class=\"font-semibold mb-4\">Past</h2>\n      <div class=\"grid gap-4\">\n        ${past.length > 0 ? past.map(b => BookingCard(b)).join('') : `\n          <div class=\"card card-dark\" style=\"padding: 1rem; text-align: center;\">\n            <p class=\"text-muted\">No past reservations</p>\n          </div>\n        `}\n      </div>\n    </div>\n  `;\n}\n\n// Booking Card\nfunction BookingCard(booking) {\n  const slotTime = new Date(booking.slotStartTime);\n\n  return `\n    <div class=\"ticket-wrapper\" style=\"cursor: default;\">\n      <div class=\"ticket-main\">\n        <h3 class=\"card-title\" style=\"font-size: var(--font-size-2xl); margin-bottom: var(--space-4)\">${booking.facilityName}</h3>\n        <div class=\"flex justify-between mt-4\">\n          <div>\n            <p class=\"text-muted\" style=\"font-size: var(--font-size-sm); margin-bottom: 0;\">When:</p>\n            <p class=\"font-semibold text-primary\" style=\"font-size: var(--font-size-lg)\">${slotTime.toLocaleDateString([], { month: 'short', day: 'numeric', year: 'numeric' })}</p>\n          </div>\n          <div>\n            <p class=\"text-muted\" style=\"font-size: var(--font-size-sm); margin-bottom: 0;\">At:</p>\n            <p class=\"font-semibold text-primary\" style=\"font-size: var(--font-size-lg)\">${slotTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>\n          </div>\n        </div>\n        <div class=\"mt-4\" style=\"border-top: 1px dashed var(--border-default); padding-top: var(--space-4);\">\n          <div class=\"flex justify-between\">\n            <span class=\"text-secondary\">Party Size: </span>\n            <span class=\"font-semibold text-primary\">${booking.partySize} Persons</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"ticket-divider\"></div>\n      <div class=\"ticket-side\">\n        <div style=\"writing-mode: vertical-rl; transform: rotate(180deg); font-weight: 700; letter-spacing: 2px; font-size: var(--font-size-lg); text-transform: uppercase;\">\n          ${statusLabel[booking.status]}\n        </div>\n        <div style=\"margin-top: auto; filter: invert(1); opacity: 0.8;\">\n          <!-- Fake QR Code purely for ticket aesthetics -->\n          <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" class=\"mt-4\">\n            <rect x=\"0\" y=\"0\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"15\" y=\"0\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"30\" y=\"0\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"0\" y=\"15\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"30\" y=\"15\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"0\" y=\"30\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"15\" y=\"30\" width=\"10\" height=\"10\" fill=\"currentColor\"/>\n            <rect x=\"25\" y=\"20\" width=\"15\" height=\"15\" fill=\"currentColor\"/>\n          </svg>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Notifications Page\nexport async function NotificationsPage() {\n  const state = store.getState();\n  if (!state.isAuthenticated) {\n    window.location.hash = '#/login';\n    return '';\n  }\n\n  let notifications = [];\n  try {\n    notifications = await api.getNotifications(50);\n    store.setNotifications(notifications);\n  } catch (e) {\n    console.error('Failed to load notifications', e);\n  }\n\n  return `\n    <div class=\"page\">\n      <div class=\"page-header flex justify-between items-center\">\n        <div>\n          <h1 class=\"page-title\">Notifications</h1>\n          <p class=\"page-subtitle\">Stay updated on your reservations</p>\n        </div>\n        ${notifications.some(n => !n.isRead) ? `\n          <button class=\"btn btn-secondary\" onclick=\"window.app.markAllRead()\">Mark all read</button>\n        ` : ''}\n      </div>\n      \n      <div class=\"grid gap-4\">\n        ${notifications.length > 0 ? notifications.map(n => NotificationCard(n)).join('') : `\n          <div class=\"card card-dark\" style=\"padding: 2rem; text-align: center;\">\n            <p class=\"text-secondary\">No notifications yet</p>\n          </div>\n        `}\n      </div>\n    </div>\n  `;\n}\n\n// Notification Card\nfunction NotificationCard(notification) {\n  const time = new Date(notification.createdAt);\n  const typeIcons = {\n    0: '‚úÖ',\n    1: '‚ùå',\n    2: '‚è∞',\n    3: 'üì¨'\n  };\n\n  return `\n    <div class=\"card card-dark ${notification.isRead ? 'opacity-60' : ''}\" \n         style=\"cursor: pointer;\" \n         onclick=\"window.app.markNotificationRead('${notification.id}')\">\n      <div class=\"card-body\">\n        <div class=\"flex gap-4\">\n          <div style=\"font-size: 1.5rem;\">${typeIcons[notification.type] || 'üì¢'}</div>\n          <div class=\"flex-1\">\n            <h3 class=\"font-semibold\">${notification.title}</h3>\n            <p class=\"text-secondary\">${notification.message}</p>\n            <p class=\"text-muted mt-2\" style=\"font-size: var(--font-size-sm);\">${time.toLocaleString()}</p>\n          </div>\n          ${!notification.isRead ? '<div class=\"badge badge-primary\">New</div>' : ''}\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Owner Dashboard Page\nexport async function DashboardPage() {\n  const state = store.getState();\n  if (!state.isAuthenticated || state.user?.role !== 1) {\n    window.location.hash = '#/';\n    return '';\n  }\n\n  let facilities = [];\n  try {\n    facilities = await api.getMyFacilities();\n  } catch (e) {\n    console.error('Failed to load facilities', e);\n  }\n\n  return `\n    <div class=\"page\">\n      <div class=\"page-header flex justify-between items-center\">\n        <div>\n          <h1 class=\"page-title\">Owner Dashboard</h1>\n          <p class=\"page-subtitle\">Manage your facilities</p>\n        </div>\n        <button class=\"btn btn-primary\" onclick=\"window.app.showCreateFacility()\">+ Add Facility</button>\n      </div>\n      \n      <div class=\"grid grid-auto\">\n        ${facilities.length > 0 ? facilities.map(f => DashboardFacilityCard(f)).join('') : `\n          <div class=\"card card-dark\" style=\"grid-column: 1 / -1; padding: 3rem; text-align: center;\">\n            <p class=\"text-secondary mb-4\">You haven't created any facilities yet</p>\n            <button class=\"btn btn-primary\" onclick=\"window.app.showCreateFacility()\">Create Your First Facility</button>\n          </div>\n        `}\n      </div>\n    </div>\n  `;\n}\n\nfunction DashboardFacilityCard(facility) {\n  return `\n    <div class=\"card card-dark\">\n      <div class=\"card-body\">\n        <span class=\"badge badge-${categoryName[facility.category]?.toLowerCase()}\">${categoryName[facility.category]}</span>\n        <h3 class=\"card-title mt-4\">${facility.name}</h3>\n        <p class=\"card-subtitle\">${facility.address || 'No address'}</p>\n        <div class=\"flex gap-2 mt-4\">\n          <a href=\"#/dashboard/facility/${facility.id}\" class=\"btn btn-secondary btn-sm\">Manage</a>\n          <a href=\"#/dashboard/facility/${facility.id}/bookings\" class=\"btn btn-ghost btn-sm\">Bookings</a>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Profile Page\nexport function ProfilePage() {\n  const state = store.getState();\n  const user = state.user;\n\n  if (!state.isAuthenticated) {\n    window.location.hash = '#/login';\n    return '';\n  }\n\n  return `\n    <div class=\"page\" style=\"max-width: 500px; margin: 0 auto;\">\n      <div class=\"card card-dark\">\n        <div class=\"card-body text-center\">\n          <div style=\"width: 80px; height: 80px; background: var(--gradient-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-4); font-size: 2rem; color: var(--white);\">\n            ${user?.username?.[0]?.toUpperCase() || '?'}\n          </div>\n          <h1 class=\"page-title\">${user?.username || 'User'}</h1>\n          <p class=\"text-secondary\">${user?.email || ''}</p>\n          <span class=\"badge ${user?.role === 1 ? 'badge-primary' : 'badge-success'} mt-2\">\n            ${user?.role === 1 ? 'Facility Owner' : 'Customer'}\n          </span>\n          \n          <div class=\"mt-8\">\n            <button class=\"btn btn-secondary\" style=\"width: 100%;\" onclick=\"window.app.logout()\">\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Booking Modal\nexport function BookingModal(slotId, facilityId) {\n  return `\n    <div class=\"modal-overlay\" onclick=\"window.app.closeModal()\">\n      <div class=\"modal\" onclick=\"event.stopPropagation()\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title\">Confirm Booking</h2>\n        </div>\n        <form id=\"booking-form\" onsubmit=\"window.app.handleBooking(event, '${slotId}', '${facilityId}')\">\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">Party Size</label>\n              <input type=\"number\" name=\"partySize\" class=\"form-input\" value=\"1\" min=\"1\" max=\"10\" required>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Notes (optional)</label>\n              <textarea name=\"notes\" class=\"form-input\" rows=\"3\" placeholder=\"Any special requests...\"></textarea>\n            </div>\n            <div id=\"booking-error\" class=\"form-error hidden\"></div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-ghost\" onclick=\"window.app.closeModal()\">Cancel</button>\n            <button type=\"submit\" class=\"btn btn-primary\">Confirm Booking</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  `;\n}\n\n// Create Facility Modal\nexport function CreateFacilityModal() {\n  return `\n    <div class=\"modal-overlay\" onclick=\"window.app.closeModal()\">\n      <div class=\"modal\" style=\"max-width: 500px;\" onclick=\"event.stopPropagation()\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title\">Create New Facility</h2>\n          <p class=\"text-secondary\">Set up your business on Book Platform</p>\n        </div>\n        <form id=\"create-facility-form\" onsubmit=\"window.app.handleCreateFacility(event)\">\n          <div class=\"modal-body\" style=\"max-height: 60vh; overflow-y: auto;\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">Facility Name *</label>\n              <input type=\"text\" name=\"name\" class=\"form-input\" placeholder=\"e.g. Downtown Fitness\" required>\n            </div>\n            \n            <div class=\"form-group\">\n              <label class=\"form-label\">Category *</label>\n              <select name=\"category\" class=\"form-input\" required>\n                <option value=\"0\">üèãÔ∏è Gym / Fitness</option>\n                <option value=\"1\">üçΩÔ∏è Restaurant</option>\n                <option value=\"2\">‚òï Cafeteria / Caf√©</option>\n              </select>\n            </div>\n            \n            <div class=\"form-group\">\n              <label class=\"form-label\">Description</label>\n              <textarea name=\"description\" class=\"form-input\" rows=\"3\" placeholder=\"Tell customers about your facility...\"></textarea>\n            </div>\n            \n            <div class=\"form-group\">\n              <label class=\"form-label\">Address *</label>\n              <input type=\"text\" name=\"address\" class=\"form-input\" placeholder=\"123 Main Street, City\" required>\n            </div>\n            \n            <div class=\"form-group\">\n              <label class=\"form-label\">Phone Number</label>\n              <input type=\"tel\" name=\"phone\" class=\"form-input\" placeholder=\"(555) 123-4567\">\n            </div>\n            \n            <div class=\"form-group\">\n              <label class=\"form-label\">Image URL (optional)</label>\n              <input type=\"url\" name=\"imageUrl\" class=\"form-input\" placeholder=\"https://...\">\n            </div>\n            \n            <div id=\"create-facility-error\" class=\"form-error hidden\"></div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-ghost\" onclick=\"window.app.closeModal()\">Cancel</button>\n            <button type=\"submit\" class=\"btn btn-primary\">Create Facility</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  `;\n}\n\n// Facility Management Page\nexport async function FacilityManagePage(params) {\n  const id = params[0];\n  const state = store.getState();\n  if (!state.isAuthenticated || state.user?.role !== 1) {\n    window.location.hash = '#/';\n    return '';\n  }\n\n  let facility = null;\n  try {\n    facility = await api.getFacility(id);\n  } catch (e) {\n    console.error('Failed to load facility', e);\n    return '<div class=\"page\"><h1>Facility not found</h1></div>';\n  }\n\n  return `\n    <div class=\"page\">\n      <div class=\"page-header\">\n        <a href=\"#/dashboard\" class=\"btn btn-ghost\">&larr; Back to Dashboard</a>\n        <h1 class=\"page-title mt-4\">${facility.name}</h1>\n        <p class=\"page-subtitle\">Manage your facility settings and slots</p>\n      </div>\n      \n      <div class=\"grid gap-6\" style=\"grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\">\n        <!-- Facility Info Card -->\n        <div class=\"card card-dark\">\n          <div class=\"card-body\">\n            <h3 class=\"font-semibold mb-4\">Facility Information</h3>\n            <div class=\"grid gap-2\">\n              <p><strong>Category:</strong> ${categoryEmoji[facility.category]} ${categoryName[facility.category]}</p>\n              <p><strong>Address:</strong> ${facility.address || 'Not set'}</p>\n              <p><strong>Phone:</strong> ${facility.phone || 'Not set'}</p>\n              <p><strong>Status:</strong> <span class=\"badge ${facility.isActive ? 'badge-success' : 'badge-error'}\">${facility.isActive ? 'Active' : 'Inactive'}</span></p>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Add Slots Card -->\n        <div class=\"card card-dark\">\n          <div class=\"card-body\">\n            <h3 class=\"font-semibold mb-4\">Quick Add Slots</h3>\n            <form id=\"add-slot-form\" onsubmit=\"window.app.handleAddSlot(event, '${facility.id}')\">\n              <div class=\"form-group\">\n                <label class=\"form-label\">Date</label>\n                <input type=\"date\" name=\"date\" class=\"form-input\" required min=\"${new Date().toISOString().split('T')[0]}\">\n              </div>\n              <div class=\"grid gap-4\" style=\"grid-template-columns: 1fr 1fr;\">\n                <div class=\"form-group\">\n                  <label class=\"form-label\">Start Time</label>\n                  <input type=\"time\" name=\"startTime\" class=\"form-input\" required value=\"09:00\">\n                </div>\n                <div class=\"form-group\">\n                  <label class=\"form-label\">End Time</label>\n                  <input type=\"time\" name=\"endTime\" class=\"form-input\" required value=\"10:00\">\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Capacity (spots available)</label>\n                <input type=\"number\" name=\"capacity\" class=\"form-input\" value=\"10\" min=\"1\" required>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Price ($) - optional</label>\n                <input type=\"number\" name=\"price\" class=\"form-input\" value=\"0\" min=\"0\" step=\"0.01\">\n              </div>\n              <button type=\"submit\" class=\"btn btn-primary\" style=\"width: 100%;\">Add Slot</button>\n            </form>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Bulk Slots -->\n      <div class=\"card card-dark mt-6\">\n        <div class=\"card-body\">\n          <h3 class=\"font-semibold mb-4\">Generate Bulk Slots</h3>\n          <p class=\"text-secondary mb-4\">Automatically create multiple time slots for a date range</p>\n          <form id=\"bulk-slots-form\" onsubmit=\"window.app.handleBulkSlots(event, '${facility.id}')\">\n            <div class=\"grid gap-4\" style=\"grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\">\n              <div class=\"form-group\">\n                <label class=\"form-label\">Start Date</label>\n                <input type=\"date\" name=\"startDate\" class=\"form-input\" required min=\"${new Date().toISOString().split('T')[0]}\">\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">End Date</label>\n                <input type=\"date\" name=\"endDate\" class=\"form-input\" required min=\"${new Date().toISOString().split('T')[0]}\">\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Opening Time</label>\n                <input type=\"time\" name=\"openTime\" class=\"form-input\" required value=\"09:00\">\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Closing Time</label>\n                <input type=\"time\" name=\"closeTime\" class=\"form-input\" required value=\"18:00\">\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Slot Duration (minutes)</label>\n                <input type=\"number\" name=\"duration\" class=\"form-input\" value=\"60\" min=\"15\" step=\"15\" required>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Capacity per slot</label>\n                <input type=\"number\" name=\"capacity\" class=\"form-input\" value=\"10\" min=\"1\" required>\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary mt-4\">Generate Slots</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Facility Bookings Management Page\nexport async function FacilityBookingsPage(params) {\n  const facilityId = params[0];\n  const state = store.getState();\n  if (!state.isAuthenticated || state.user?.role !== 1) {\n    window.location.hash = '#/';\n    return '';\n  }\n\n  let bookings = [];\n  let facility = null;\n  try {\n    facility = await api.getFacility(facilityId);\n    bookings = await api.getFacilityBookings(facilityId);\n  } catch (e) {\n    console.error('Failed to load bookings', e);\n  }\n\n  const pending = bookings.filter(b => b.status === 0);\n  const confirmed = bookings.filter(b => b.status === 2);\n  const other = bookings.filter(b => ![0, 2].includes(b.status));\n\n  return `\n    <div class=\"page\">\n      <div class=\"page-header\">\n        <a href=\"#/dashboard\" class=\"btn btn-ghost\">&larr; Back to Dashboard</a>\n        <h1 class=\"page-title mt-4\">${facility?.name || 'Facility'} - Bookings</h1>\n        <p class=\"page-subtitle\">Manage customer reservations</p>\n      </div>\n      \n      <h2 class=\"font-semibold mb-4\">‚è≥ Pending Approval (${pending.length})</h2>\n      <div class=\"grid gap-4 mb-8\">\n        ${pending.length > 0 ? pending.map(b => OwnerBookingCard(b)).join('') : `\n          <div class=\"card card-dark\" style=\"padding: 1rem; text-align: center;\">\n            <p class=\"text-secondary\">No pending bookings</p>\n          </div>\n        `}\n      </div>\n      \n      <h2 class=\"font-semibold mb-4\">‚úÖ Confirmed (${confirmed.length})</h2>\n      <div class=\"grid gap-4 mb-8\">\n        ${confirmed.length > 0 ? confirmed.map(b => OwnerBookingCard(b, false)).join('') : `\n          <div class=\"card card-dark\" style=\"padding: 1rem; text-align: center;\">\n            <p class=\"text-secondary\">No confirmed bookings</p>\n          </div>\n        `}\n      </div>\n      \n      ${other.length > 0 ? `\n        <h2 class=\"font-semibold mb-4\">Other (${other.length})</h2>\n        <div class=\"grid gap-4\">\n          ${other.map(b => OwnerBookingCard(b, false)).join('')}\n        </div>\n      ` : ''}\n    </div>\n  `;\n}\n\nfunction OwnerBookingCard(booking, showActions = true) {\n  const slotTime = new Date(booking.slotStartTime);\n  const endTime = new Date(booking.slotEndTime);\n\n  return `\n    <div class=\"card card-dark\">\n      <div class=\"card-body\">\n        <div class=\"flex justify-between items-center gap-4\">\n          <div class=\"flex-1\">\n            <h3 class=\"font-semibold\">${booking.customerName || 'Customer'}</h3>\n            <p class=\"text-secondary\">\n              ${slotTime.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric' })} \n              ${slotTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} - \n              ${endTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n            </p>\n            <p class=\"text-muted\" style=\"font-size: var(--font-size-sm);\">Party of ${booking.partySize}</p>\n            ${booking.notes ? `<p class=\"text-muted mt-2\" style=\"font-size: var(--font-size-sm);\"><em>\"${booking.notes}\"</em></p>` : ''}\n          </div>\n          <div class=\"flex flex-col gap-2 items-end\">\n            <span class=\"badge ${statusBadge[booking.status]}\">${statusLabel[booking.status]}</span>\n            ${showActions && booking.status === 0 ? `\n              <div class=\"flex gap-2 mt-2\">\n                <button class=\"btn btn-sm\" style=\"background: var(--accent-green); color: white; border: none;\" onclick=\"window.app.updateBooking('${booking.id}', 2)\">Accept</button>\n                <button class=\"btn btn-sm\" style=\"background: var(--accent-red); color: white; border: none;\" onclick=\"window.app.updateBooking('${booking.id}', 3)\">Reject</button>\n              </div>\n            ` : ''}\n            ${booking.status === 2 ? `\n              <div class=\"flex gap-2 mt-2\">\n                <button class=\"btn btn-ghost btn-sm\" onclick=\"window.app.showRescheduleModal('${booking.id}', '${booking.facilityId}')\">Reschedule</button>\n                <button class=\"btn btn-ghost btn-sm\" style=\"color: var(--accent-red);\" onclick=\"window.app.cancelBooking('${booking.id}')\">Cancel</button>\n              </div>\n            ` : ''}\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Reschedule Modal for owners\nexport function RescheduleModal(bookingId, facilityId) {\n  return `\n    <div class=\"modal-overlay\" onclick=\"window.app.closeModal()\">\n      <div class=\"modal\" onclick=\"event.stopPropagation()\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title\">Reschedule Booking</h2>\n          <p class=\"text-secondary\">The customer will be notified of the change</p>\n        </div>\n        <form id=\"reschedule-form\" onsubmit=\"window.app.handleReschedule(event, '${bookingId}')\">\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">New Date</label>\n              <input type=\"date\" name=\"newDate\" class=\"form-input\" required min=\"${new Date().toISOString().split('T')[0]}\">\n            </div>\n            <div class=\"grid gap-4\" style=\"grid-template-columns: 1fr 1fr;\">\n              <div class=\"form-group\">\n                <label class=\"form-label\">New Start Time</label>\n                <input type=\"time\" name=\"newStartTime\" class=\"form-input\" required>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">New End Time</label>\n                <input type=\"time\" name=\"newEndTime\" class=\"form-input\" required>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Message to customer (optional)</label>\n              <textarea name=\"message\" class=\"form-input\" rows=\"2\" placeholder=\"Reason for rescheduling...\"></textarea>\n            </div>\n            <div id=\"reschedule-error\" class=\"form-error hidden\"></div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-ghost\" onclick=\"window.app.closeModal()\">Cancel</button>\n            <button type=\"submit\" class=\"btn btn-primary\">Reschedule</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  `;\n}\n","// Book Platform - Main Application Entry Point\n\nimport { router } from './utils/router.js';\nimport { store } from './utils/store.js';\nimport { api } from './api/client.js';\nimport * as Pages from './pages/index.js';\n\nclass BookPlatformApp {\n    constructor() {\n        this.init();\n    }\n\n    async init() {\n        // Register service worker for PWA\n        if ('serviceWorker' in navigator) {\n            try {\n                await navigator.serviceWorker.register('/sw.js');\n                console.log('Service Worker registered');\n            } catch (e) {\n                console.log('Service Worker registration failed:', e);\n            }\n        }\n\n        // Setup router\n        this.setupRoutes();\n\n        // Listen for auth events\n        window.addEventListener('auth:logout', () => {\n            store.logout();\n            this.render();\n            router.navigate('/');\n        });\n\n        // Listen for route changes\n        window.addEventListener('route:loaded', () => {\n            this.updateBottomNav();\n        });\n\n        // Initial render\n        this.render();\n\n        // Hide loading screen\n        setTimeout(() => {\n            document.getElementById('loading-screen')?.classList.add('hidden');\n        }, 500);\n\n        // Load initial data if authenticated\n        if (store.getState().isAuthenticated) {\n            this.loadUserData();\n        }\n    }\n\n    setupRoutes() {\n        router.register('/', () => Pages.HomePage());\n        router.register('/login', () => Pages.LoginPage());\n        router.register('/register', () => Pages.RegisterPage());\n        router.register('/facility/:id', (params) => Pages.FacilityPage(params));\n        router.register('/bookings', () => Pages.BookingsPage());\n        router.register('/notifications', () => Pages.NotificationsPage());\n        router.register('/profile', () => Pages.ProfilePage());\n        router.register('/dashboard', () => Pages.DashboardPage());\n        router.register('/dashboard/facility/:id', (params) => Pages.FacilityManagePage(params));\n        router.register('/dashboard/facility/:id/bookings', (params) => Pages.FacilityBookingsPage(params));\n    }\n\n    render() {\n        const app = document.getElementById('app');\n        const state = store.getState();\n\n        app.innerHTML = `\n      ${Pages.Header()}\n      <main class=\"app-container\" id=\"main-content\"></main>\n      ${state.isAuthenticated ? Pages.BottomNav() : ''}\n      <div id=\"modal-container\"></div>\n      <div id=\"toast-container\" class=\"toast-container\"></div>\n    `;\n\n        // Set body class for bottom nav padding\n        document.body.classList.toggle('has-bottom-nav', state.isAuthenticated);\n\n        // Set router container\n        router.setContainer(document.getElementById('main-content'));\n        router.handleRoute();\n    }\n\n    updateBottomNav() {\n        // Update active state based on current route\n        const path = router.getCurrentPath();\n        document.querySelectorAll('.bottom-nav-item').forEach(btn => {\n            btn.classList.remove('active');\n        });\n    }\n\n    async loadUserData() {\n        try {\n            const count = await api.getUnreadCount();\n            store.setUnreadCount(count?.count || 0);\n        } catch (e) {\n            console.error('Failed to load user data', e);\n        }\n    }\n\n    // Auth handlers\n    async handleLogin(event) {\n        event.preventDefault();\n        const form = event.target;\n        const email = form.email.value;\n        const password = form.password.value;\n        const errorEl = document.getElementById('login-error');\n\n        try {\n            const response = await api.login({ email, password });\n            store.setUser(response.user);\n            this.showToast('Welcome back!', 'success');\n            this.render();\n            router.navigate('/');\n        } catch (e) {\n            errorEl.textContent = e.message || 'Login failed';\n            errorEl.classList.remove('hidden');\n        }\n    }\n\n    async handleRegister(event) {\n        event.preventDefault();\n        const form = event.target;\n        const data = {\n            username: form.username.value,\n            email: form.email.value,\n            password: form.password.value,\n            role: parseInt(form.role.value)\n        };\n        const errorEl = document.getElementById('register-error');\n\n        try {\n            const response = await api.register(data);\n            store.setUser(response.user);\n            this.showToast('Account created successfully!', 'success');\n            this.render();\n            router.navigate('/');\n        } catch (e) {\n            errorEl.textContent = e.message || 'Registration failed';\n            errorEl.classList.remove('hidden');\n        }\n    }\n\n    logout() {\n        api.logout();\n        store.logout();\n        this.showToast('Logged out successfully', 'success');\n        this.render();\n        router.navigate('/');\n    }\n\n    // Slot selection and booking\n    selectSlot(slotId, facilityId) {\n        const state = store.getState();\n        if (!state.isAuthenticated) {\n            router.navigate('/login');\n            return;\n        }\n\n        // Show booking modal\n        document.getElementById('modal-container').innerHTML = Pages.BookingModal(slotId, facilityId);\n    }\n\n    closeModal() {\n        document.getElementById('modal-container').innerHTML = '';\n    }\n\n    async handleBooking(event, slotId, facilityId) {\n        event.preventDefault();\n        const form = event.target;\n        const data = {\n            facilityId,\n            slotId,\n            partySize: parseInt(form.partySize.value),\n            notes: form.notes.value || null\n        };\n        const errorEl = document.getElementById('booking-error');\n\n        try {\n            await api.createBooking(data);\n            this.closeModal();\n            this.showToast('Booking confirmed!', 'success');\n            router.navigate('/bookings');\n        } catch (e) {\n            errorEl.textContent = e.message || 'Booking failed';\n            errorEl.classList.remove('hidden');\n        }\n    }\n\n    // Notifications\n    async markNotificationRead(id) {\n        try {\n            await api.markNotificationRead(id);\n            const count = await api.getUnreadCount();\n            store.setUnreadCount(count?.count || 0);\n            // Refresh notifications page\n            if (router.getCurrentPath() === '/notifications') {\n                router.handleRoute();\n            }\n        } catch (e) {\n            console.error('Failed to mark notification read', e);\n        }\n    }\n\n    async markAllRead() {\n        try {\n            await api.markAllNotificationsRead();\n            store.setUnreadCount(0);\n            router.handleRoute();\n            this.showToast('All notifications marked as read', 'success');\n        } catch (e) {\n            console.error('Failed to mark all read', e);\n        }\n    }\n\n    // Facility filtering\n    async filterCategory(category) {\n        try {\n            const params = category !== null ? { category } : {};\n            const facilities = await api.getFacilities(params);\n            store.setFacilities(facilities);\n\n            const grid = document.getElementById('facilities-grid');\n            if (grid) {\n                grid.innerHTML = facilities.length > 0\n                    ? facilities.map(f => Pages.FacilityCard(f)).join('')\n                    : '<div class=\"card\" style=\"grid-column: 1 / -1; padding: 2rem; text-align: center;\"><p class=\"text-secondary\">No facilities found</p></div>';\n            }\n        } catch (e) {\n            console.error('Failed to filter', e);\n        }\n    }\n\n    // Owner actions\n    showCreateFacility() {\n        document.getElementById('modal-container').innerHTML = Pages.CreateFacilityModal();\n    }\n\n    async handleCreateFacility(event) {\n        event.preventDefault();\n        const form = event.target;\n        const data = {\n            name: form.name.value,\n            category: parseInt(form.category.value),\n            description: form.description.value || '',\n            address: form.address.value,\n            phone: form.phone.value || '',\n            imageUrl: form.imageUrl.value || ''\n        };\n        const errorEl = document.getElementById('create-facility-error');\n\n        try {\n            await api.createFacility(data);\n            this.closeModal();\n            this.showToast('Facility created successfully!', 'success');\n            router.navigate('/dashboard');\n        } catch (e) {\n            errorEl.textContent = e.message || 'Failed to create facility';\n            errorEl.classList.remove('hidden');\n        }\n    }\n\n    async handleAddSlot(event, facilityId) {\n        event.preventDefault();\n        const form = event.target;\n        const date = form.date.value;\n        const startTime = form.startTime.value;\n        const endTime = form.endTime.value;\n\n        const data = {\n            facilityId,\n            startTime: `${date}T${startTime}:00`,\n            endTime: `${date}T${endTime}:00`,\n            capacity: parseInt(form.capacity.value),\n            price: parseFloat(form.price.value) || 0\n        };\n\n        try {\n            await api.createSlot(data);\n            this.showToast('Slot added successfully!', 'success');\n            form.reset();\n        } catch (e) {\n            this.showToast(e.message || 'Failed to add slot', 'error');\n        }\n    }\n\n    async handleBulkSlots(event, facilityId) {\n        event.preventDefault();\n        const form = event.target;\n        const data = {\n            facilityId,\n            startDate: form.startDate.value,\n            endDate: form.endDate.value,\n            openTime: form.openTime.value,\n            closeTime: form.closeTime.value,\n            slotDurationMinutes: parseInt(form.duration.value),\n            capacity: parseInt(form.capacity.value)\n        };\n\n        try {\n            const result = await api.generateBulkSlots(data);\n            this.showToast(`Created ${result.slotsCreated || 'multiple'} slots!`, 'success');\n            form.reset();\n        } catch (e) {\n            this.showToast(e.message || 'Failed to generate slots', 'error');\n        }\n    }\n\n    async updateBooking(bookingId, status) {\n        try {\n            await api.updateBookingStatus(bookingId, status);\n            this.showToast(status === 2 ? 'Booking accepted!' : 'Booking rejected', 'success');\n            router.handleRoute(); // Refresh the page\n        } catch (e) {\n            this.showToast(e.message || 'Failed to update booking', 'error');\n        }\n    }\n\n    async cancelBooking(bookingId) {\n        if (!confirm('Are you sure you want to cancel this booking? The customer will be notified.')) {\n            return;\n        }\n        try {\n            await api.updateBookingStatus(bookingId, 4); // Status 4 = Cancelled\n            this.showToast('Booking cancelled. Customer has been notified.', 'success');\n            router.handleRoute();\n        } catch (e) {\n            this.showToast(e.message || 'Failed to cancel booking', 'error');\n        }\n    }\n\n    showRescheduleModal(bookingId, facilityId) {\n        document.getElementById('modal-container').innerHTML = Pages.RescheduleModal(bookingId, facilityId);\n    }\n\n    async handleReschedule(event, bookingId) {\n        event.preventDefault();\n        const form = event.target;\n        const newDate = form.newDate.value;\n        const newStart = form.newStartTime.value;\n        const newEnd = form.newEndTime.value;\n        const message = form.message.value;\n\n        const data = {\n            newStartTime: `${newDate}T${newStart}:00`,\n            newEndTime: `${newDate}T${newEnd}:00`,\n            message: message || undefined\n        };\n\n        try {\n            await api.rescheduleBooking(bookingId, data);\n            this.closeModal();\n            this.showToast('Booking rescheduled! Customer has been notified.', 'success');\n            router.handleRoute();\n        } catch (e) {\n            const errorEl = document.getElementById('reschedule-error');\n            errorEl.textContent = e.message || 'Failed to reschedule';\n            errorEl.classList.remove('hidden');\n        }\n    }\n\n    // Toast notifications\n    showToast(message, type = 'success') {\n        const container = document.getElementById('toast-container');\n        const id = Date.now();\n\n        const toast = document.createElement('div');\n        toast.className = `toast toast-${type}`;\n        toast.id = `toast-${id}`;\n        toast.innerHTML = message;\n\n        container.appendChild(toast);\n\n        setTimeout(() => {\n            toast.remove();\n        }, 4000);\n    }\n}\n\n// Initialize app when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.app = new BookPlatformApp();\n});\n\nexport default BookPlatformApp;\n"],"names":["Router","container","path","handler","params","pathParts","route","h","routeParts","match","extractedParams","i","content","router","Store","savedUser","token","updates","listener","user","facilities","myBookings","notifications","unreadCount","loading","store","API_BASE","ApiClient","endpoint","options","url","headers","response","data","_a","error","query","id","facilityId","limit","slotData","bulkData","status","api","icons","categoryEmoji","categoryName","statusLabel","statusBadge","Header","state","isAuth","isOwner","BottomNav","HomePage","e","heroFacilities","HeroProductCard","f","FacilityCard","facility","_b","_c","FacilityPage","slots","slot","SlotCard","startTime","timeStr","dateStr","available","LoginPage","RegisterPage","BookingsPage","bookings","upcoming","b","past","BookingCard","booking","slotTime","NotificationsPage","n","NotificationCard","notification","time","typeIcons","DashboardPage","DashboardFacilityCard","ProfilePage","BookingModal","slotId","CreateFacilityModal","FacilityManagePage","FacilityBookingsPage","pending","confirmed","other","OwnerBookingCard","showActions","endTime","RescheduleModal","bookingId","BookPlatformApp","Pages.HomePage","Pages.LoginPage","Pages.RegisterPage","Pages.FacilityPage","Pages.BookingsPage","Pages.NotificationsPage","Pages.ProfilePage","Pages.DashboardPage","Pages.FacilityManagePage","Pages.FacilityBookingsPage","app","Pages.Header","Pages.BottomNav","btn","count","event","form","email","password","errorEl","Pages.BookingModal","category","grid","Pages.FacilityCard","Pages.CreateFacilityModal","date","result","Pages.RescheduleModal","newDate","newStart","newEnd","message","type","toast"],"mappings":"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"}